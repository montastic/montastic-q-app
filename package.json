{ 
    "name": "Montastic",
    "description": "Montastic ticket tracking service",
    "longDescription": "Montastic ticket tracking service monitors websites and sends emails when it is goes down.",
    "version": "1.1",
    "videoUrl": "https://www.youtube.com/watch?v=LUqGTmQz2rY",
    "iconUrl": "https://montastic.com/images/montastic.png",
    "imageUrl": "",
    "authorUrl":"https://www.montastic.com",
    "version": "1.0",
    "questions": [
          {
            "controlType": "textbox",
            "key": "apiKey",
            "value": "",
            "label": "apiKey",
            "help": "Your Montastic API key can be found in your Montastic user profile.",
            "required": true,
            "order": 2
          },
          {
            "controlType": "checkbox",              
            "key": "showNotify",
            "label": "Popup notification when a website status changes?",
            "help": "If checked, a notification will be shown on your devices",
            "required": false,
            "order": 3
          }
        ],
        "script": "
            \"use strict\";

            var fetch = require('node-fetch')

            var url =  'http://www.montastic.com/feeds/quick_status?key=' + dddddddddddddddddddkey;
            var count = 0;
            fetch(url)
                .then(function (res) {
                    return res.text();
                }).then(function (data) {
                    console.log('data from fetch: ' + data);
                    if(data > 0){
                        console.log('Montastic alarms: ' + data);
                    } else {
                        console.log('Montastic OK');
                    }
                    console.log(data);
                });
    
    "
}
